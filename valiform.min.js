/* validate.js library by @manufosela - 2015. Works IE8+, FF, Chrome. MIT License (MIT) Copyright (c) 2015 @manufosela - It is independent of any library or framework */
var Valiform=function(){"use strict";return Valiform=function(t){t=t||{warningColor:"#F60",asteriskStyle:"color: #F00!important; font-size: 15px!important;",cssTextWarning:"font-size:12px!important; color:#F60!important; font-weight:bold!important; margin-bottom:10px!important;"},this.warningColor=t.warningColor||"#F00",this.asteriskStyle=t.asteriskStyle||"color:#F00!important",this.cssTextWarning=t.cssTextWarning||"color:#F00!important",this.text={requiredField:"campo requerido",wrongValue:"valor incorrecto"},this.badValue=0;for(var e,r,n,a,i=this,o=document.querySelectorAll("form[data-validate=true]"),s=0,u=o.length,c=0,l=function(t){t.preventDefault?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1,t=t||window.event;var e=t.target||t.srcElement,r=e.formParam;return i.noEmptyFields()&&(n=!0),i.validateFields()&&(a=!0),n&&a&&i._triggerEvent(r,"submit"),!1};u>s;s++)for(this.markRequiredFields(o[s]),this.checkFieldsRealTime(o[s]),e=o[s].querySelectorAll("[type=submit][data-checkform=true]"),r=e.length,n=!1,a=!1;r>c;c++){var d=e[c];d.formParam=o[s],this._on(d,"click",l)}},Valiform.prototype.validate=function(t,e){if(""===t||null===t||""!==t&&"noempty"!=e)return!0;switch(e){case"int":case"integer":return this.isInt(t);case"float":return this.isFloat(t);case"number":case"numero":return this.isNumber(t);case"alpha":case"alfa":case"text":case"texto":return this.isAlpha(t);case"text-":return this.isAlphaGuion(t);case"alphaNumericSpace":case"textspace":return this.isAlphaNumericSpace(t);case"alphaNumeric":case"textnum":return this.isAlphaNumeric(t);case"email":case"correo":return this.isEmail(t);case"iccid":return this.checkICCID(t);case"nummovil":case"movil":case"mobile":return this.checkNumMovil(t);case"numfijo":case"fijo":case"landphone":return this.checkNumFijo(t);case"telefono":case"tel":case"telephone":return this.checkTelephoneNumber(t);case"cp":case"postalcode":return this.checkCodPostal(t);case"cuentabancaria":case"accountnumber":return this.verificaCuentaBancaria(t);case"tarjetacredito":case"creditcard":return this.verificaNumTarjetaCredito(t);case"nif":case"cif":case"nie":return valida_nif_cif_nie(t);case"fecha":case"date":return isDate(t,"dmy");case"selected":case"noempty":return""!==t}return!1},Valiform.prototype.isInt=function(t){return t==parseInt(t)},Valiform.prototype.isFloat=function(t){return t==parseFloat(t)},Valiform.prototype.isNumber=function(t){var e=/^[0-9\.]+$/;return e.test(t)},Valiform.prototype.isEmail=function(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t)},Valiform.prototype.verificaCuentaBancaria=function(t){for(var e="00"+t.substr(0,8),r=t.substr(8,2),n=t.substr(10),a=new Array(1,2,4,8,5,10,9,7,3,6),i=0,o=0,s=0;9>=s;s++)i+=parseInt(e.charAt(s))*a[s];for(i=11-i%11,11==i&&(i=0),10==i&&(i=1),s=0;9>=s;s++)o+=parseInt(n.charAt(s))*a[s];return o=11-o%11,11==o&&(o=0),10==o&&(o=1),i.toString()+o.toString()==r},Valiform.prototype.verificaNumTarjetaCredito=function(t){var e=!1,r=3==t[0]||4==t[0]||5==t[0]||6==t[0];return 16==t.length&&r&&(e=this._getCtrlNumberCreditCard(t)==t[15]),e},Valiform.prototype._getCtrlNumberCreditCard=function(t){var e,r,n=0;for(e=1;16>e;e++)e/2!==parseInt(e/2)?(r=2*parseInt(t[e-1]),r>=10&&(r-=9)):r=parseInt(t[e-1]),n+=r;return n=10-n%10,10===n&&(n=0),n},Valiform.prototype.isAlpha=function(t){var e=/^[A-Za-z\s\xF1\xD1áéíóúÁÉÍÓÚäëïöüAËÏÖÜÑñ\']+$/,r=e.test(t);return r},Valiform.prototype.isAlphaGuion=function(t){var e=/^[A-Za-z\s\xF1\xD1áéíóúÁÉÍÓÚäëïöüAËÏÖÜÑñ\'\-]+$/,r=e.test(t);return r},Valiform.prototype.isAlphaNumeric=function(t){var e=/^[0-9A-Za-záéíóúÁÉÍÓÚäëïöüAËÏÖÜÑñ\']+$/,r=e.test(t);return r},Valiform.prototype.isAlphaNumericSpace=function(t){var e=/^[0-9A-Za-z\s\xF1\xD1áéíóúÁÉÍÓÚäëïöüAËÏÖÜÑñ\']+$/,r=e.test(t);return r},Valiform.prototype.isDate=function(t,e){var r=t;if(""===r)return!1;var n=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/,a=r.match(n);if(null===a)return!1;switch(e){case"mdy":dtMonth=a[1],dtDay=a[3],dtYear=a[5];break;case"ymd":dtYear=a[1],dtMonth=a[5],dtDay=a[7];break;default:dtDay=a[1],dtMonth=a[3],dtYear=a[5]}if(dtMonth<1||dtMonth>12)return!1;if(dtDay<1||dtDay>31)return!1;if((4==dtMonth||6==dtMonth||9==dtMonth||11==dtMonth)&&31==dtDay)return!1;if(2==dtMonth){var i=dtYear%4===0&&(dtYear%100!==0||dtYear%400===0);if(dtDay>29||29==dtDay&&!i)return!1}return!0},Valiform.prototype.checkNumMovil=function(t){var e=/^[67]\d{8}$/,r=new RegExp(e);return r.test(t)?1:0},Valiform.prototype.checkNumFijo=function(t){var e=/^[89]\d{8}$/,r=new RegExp(e);return r.test(t)?1:0},Valiform.prototype.checkTelephoneNumber=function(t){return this.checkNumFijo(t)||this.checkNumMovil(t)?1:-2},Valiform.prototype.checkCodPostal=function(t){return 5==t.length&&this.isInt(t)},Valiform.prototype.checkICCID=function(t){var e=parseInt(t.substring(t.length-1,t.length)),r=t.substring(0,t.length-1);return"89"!=t.substring(0,2)?0:this._CalculateLuhn(r)==parseInt(e)&&(19==t.length||20==t.length)?1:0},Valiform.prototype._CalculateLuhn=function(t){var e=0;for(i=0;i<t.length;i++)e+=parseInt(t.substring(i,i+1));var r=new Array(0,1,2,3,4,-4,-3,-2,-1,0);for(i=t.length-1;i>=0;i-=2){var n=parseInt(t.substring(i,i+1)),a=r[n];e+=a}var o=e%10;return o=10-o,10==o&&(o=0),o},Valiform.prototype.calcDigitoControl2LineaNIF=function(t){for(var e=[7,3,1],r=0,n=0,a=t.length;a>r;r++)n+=t[r]*e[r%3];return n%10},Valiform.prototype._getLetraNIF=function(t){var e="TRWAGMYFPDXBNJZSQVHLCKE",r=t%23,n=e.charAt(r);return n},Valiform.prototype.valida_nif_cif_nie=function(t){var e,r,n,a,i,o,s,u,c,l=t.toUpperCase(),d="TRWAGMYFPDXBNJZSQVHLCKE";if("PASAPORTE"==document.getElementById("documento_de_identidad").getAttribute("value"))return 1;if(""!==l){if(!/^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$/.test(l)&&!/^[T]{1}[A-Z0-9]{8}$/.test(l)&&!/^[0-9]{8}[A-Z]{1}$/.test(l))return 0;if(/^[0-9]{8}[A-Z]{1}$/.test(l))return o=t.substring(8,0)%23,s=d.charAt(o),u=l.charAt(8),s==u?1:-1;for(c=parseInt(t.charAt(2))+parseInt(t.charAt(4))+parseInt(t.charAt(6)),n=1;8>n;n+=2)e=2*parseInt(t.charAt(n)),e+="",e=e.substring(0,1),r=2*parseInt(t.charAt(n)),r+="",r=r.substring(1,2),""===r&&(r="0"),c+=parseInt(e)+parseInt(r);if(c+="",a=10-parseInt(c.substring(c.length-1,c.length)),/^[KLM]{1}/.test(l))return t.charAt(8)==String.fromCharCode(64+a)?1:-1;if(/^[ABCDEFGHJNPQRSUVW]{1}/.test(l))return l=a+"",t.charAt(8)==String.fromCharCode(64+a)||t.charAt(8)==parseInt(l.substring(l.length-1,l.length))?2:-2;if(/^[T]{1}[A-Z0-9]{8}$/.test(l))return t.charAt(8)==/^[T]{1}[A-Z0-9]{8}$/.test(l)?3:-3;if(/^[XYZ]{1}/.test(l))return l=l.replace("X","0"),l=l.replace("Y","1"),l=l.replace("Z","2"),i=l.substring(0,8)%23,t.toUpperCase().charAt(8)==d.substring(i,i+1)?3:-3}return 0},Valiform.prototype.markRequiredFields=function(t,e){if("undefined"==typeof t)return!1;e="undefined"!=typeof e?e:"*";for(var r,n,a,i=this,o=t.querySelectorAll("[data-required=true]"),s=0,u=o.length;u>s;s++)"hidden"!=o[s].getAttribute("type")&&(a=o[s].getAttribute("name"),null===document.getElementById("asterisco_"+a)&&(r=document.createElement("span"),r.setAttribute("id","asterisco_"+a),r.setAttribute("style",this.asteriskStyle),r.innerHTML=e,n=i._getAllSiblings(o[s],"LABEL"),n.length>0&&n[0].appendChild(r)))},Valiform.prototype.validateFields=function(){this.badValue=0;for(var t,e,r=this,n=document.querySelectorAll("[data-tovalidate]"),a=0,i=n.length;i>a;a++)t=n[a].getAttribute("value")||n[a].value||"",e=n[a].getAttribute("data-tovalidate")||"",r.validate(t,e)||this.badValue++;return 0===this.badValue},Valiform.prototype.noEmptyFields=function(){for(var t,e,r=this,n=0,a=document.querySelectorAll("[data-required=true]"),i=0,o=a.length;o>i;i++)"hidden"!=a[i].getAttribute("type")&&(t=a[i].getAttribute("value")||a[i].value||"",e=a[i].getAttribute("type")||a[i].type||"","radio"==e||"checkbox"==e?a[i].checked?r.delWarnMesg(a[i]):(r.addWarnMesg(a[i],r.text.requiredField),n++):""===t?(r.addWarnMesg(a[i],r.text.requiredField),n++):r.delWarnMesg(a[i]));return 0===n},Valiform.prototype.addWarnMesg=function(t,e){var r=document.createElement("p"),n="undefined"!=typeof t.getAttribute?t:window.event.srcElement,a=n.getAttribute("name"),i="warning-"+a;document.getElementById(i)||(t=document.getElementById(n.getAttribute("id")||t.id),r.setAttribute("style",this.cssTextWarning),r.setAttribute("id",i),r.innerHTML=e,t.parentElement.appendChild(r),t.setAttribute("style","border:2px solid "+this.warningColor+"!important;"))},Valiform.prototype.delWarnMesg=function(t){var e="undefined"!=typeof t.getAttribute?t:window.event.srcElement,r=e.getAttribute("name")||"";document.getElementById("warning-"+r)&&e.parentElement.removeChild(document.getElementById("warning-"+r)),this.removeStyle(t)},Valiform.prototype.hasClass=function(t,e){var r=new RegExp("(\\s|^)"+e+"(\\s|$)"),n="undefined"==typeof t.className?window.event.srcElement:t;return n.className.match(r)},Valiform.prototype.addClass=function(t,e){if(!this.hasClass(t,e)){var r="undefined"!=typeof t.getAttribute?t:window.event.srcElement,n=""!==r.className?" ":"";r.className+=n+e}},Valiform.prototype.removeClass=function(t,e){if(this.hasClass(t,e)){var r=new RegExp("(\\s|^)"+e+"(\\s|$)"),n="undefined"!=typeof t.getAttribute?t:window.event.srcElement;n.className=n.className.replace(r,"")}},Valiform.prototype.removeStyle=function(t){var e="undefined"!=typeof t.getAttribute?t:window.event.srcElement;e.removeAttribute("style")},Valiform.prototype.checkFieldsRealTime=function(t){for(var e,r,n,a,i=this,o=this._getArrayFromTag(t,"input"),s=this._getArrayFromTag(t,"textarea"),u=this._getArrayFromTag(t,"select"),c="undefined"!=typeof s?o.concat(s):o,l=0,d=c.length,p=function(t){t=t||window.event;var e=t.target||t.srcElement,r=e.value||e.getAttribute("value")||"",n=e["data-tovalidate"]||e.getAttribute("data-tovalidate")||"",a=e["data-required"]||e.getAttribute("data-required")||"",o="true"==a,s=""!==n,u=e.type||e.getAttribute("type")||"";if(o)if("radiobutton"==u||"checkbox"==u){if(!this.checked)return i.addWarnMesg(this,i.text.requiredField),!0;i.delWarnMesg(this)}else{if(""===r)return i.addWarnMesg(this,i.text.requiredField),!0;i.delWarnMesg(this)}s&&(i.validate(r,n)?i.delWarnMesg(this):(i.badValue++,i.addWarnMesg(this,i.text.wrongValue)))},f=function(t){t=t||window.event;var e=t.target||t.srcElement,r=e.value||e.getAttribute("value")||"";return""===r?(i.addWarnMesg(this,i.text.requiredField),!0):void i.delWarnMesg(this)};d>l;l++)e=document.getElementById(c[l].getAttribute("id")),r=e.getAttribute("data-required"),n=e.getAttribute("data-tovalidate"),a=e.getAttribute("type")||e.type||"",("true"==r||""!==n)&&(i._off(e,"blur",p),i._on(e,"blur",p),("checkbox"==a||"radio"==a)&&i._on(e,"click",p));for(l=0,d=u.length;d>l;l++)e=document.getElementById(u[l].getAttribute("id")),r=e.getAttribute("data-required"),"true"==r&&(i._off(e,"click",f),i._on(e,"click",f),i._off(e,"blur",f),i._on(e,"blur",f))},Valiform.prototype._on=function(t,e,r){window.addEventListener?t.addEventListener(e,r,!1):window.attachEvent?t.attachEvent("on"+e,r):t["on"+e]=r},Valiform.prototype._off=function(t,e,r){window.removeEventListener?t.removeEventListener(e,r,!1):window.detachEvent?t.detachEvent("on"+e,r):elem["on"+e]=null},Valiform.prototype._triggerEvent=function(t,e){var r;document.createEvent?(r=document.createEvent("MouseEvents"),r.initEvent(e,!0,!0)):(r=document.createEventObject(),r.eventType=e),r.eventName=e,document.createEvent?t.dispatchEvent(r):t.fireEvent("on"+r.eventType,r)},Valiform.prototype._toType=function(t){if("undefined"==typeof t)return"undefined";if(null===t)return"null";var e=Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]||"";switch(e){case"Number":return isNaN(t)?"nan":"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return e.toLowerCase()}return"object"==typeof t?"object":void 0},Valiform.prototype._getArrayFromTag=function(t,e){return Array.prototype.slice.call(t.getElementsByTagName(e))},Valiform.prototype._getAllSiblings=function(t,e){var r=[];if("undefined"!=typeof t){var n=function(t){return"undefined"!=typeof t.tagName?t.tagName.toUpperCase()==e.toUpperCase():!1},a=t.parentNode;t=a.firstChild;do(!n||n(t))&&r.push(t);while(t=t.nextSibling);0===r.length&&r.push(a)}return r},Valiform.prototype._elementChildren=function(t){for(var e=t.childNodes,r=[],n=e.length;n--;)1==e[n].nodeType&&r.unshift(e[n]);return r},Valiform}();!function(){"use strict";var t=Array.prototype.slice;try{t.call(document.documentElement)}catch(e){Array.prototype.slice=function(e,r){if(r="undefined"!=typeof r?r:this.length,"[object Array]"===Object.prototype.toString.call(this))return t.call(this,e,r);var n,a,i=[],o=this.length,s=e||0;s=s>=0?s:Math.max(0,o+s);var u="number"==typeof r?Math.min(r,o):o;if(0>r&&(u=o+r),a=u-s,a>0)if(i=new Array(a),this.charAt)for(n=0;a>n;n++)i[n]=this.charAt(s+n);else for(n=0;a>n;n++)i[n]=this[s+n];return i}}}();
